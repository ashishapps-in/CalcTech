<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CalcTech</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
</head>

<body>
    <div class="background-glow"></div>

    <main class="calculator-container">
        <div class="calculator glass-panel">
            <div class="top-bar">
                <div class="brand-small">CalcTech</div>
                <div class="top-icons">
                    <button class="icon-btn" id="history-btn" title="View History">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <polyline points="12 6 12 12 16 14"></polyline>
                        </svg>
                    </button>
                    <button class="icon-btn" id="theme-btn" title="Theme Editor">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path
                                d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z">
                            </path>
                        </svg>
                    </button>
                    <button class="icon-btn" id="settings-btn" title="Settings">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="3"></circle>
                            <path
                                d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z">
                            </path>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="display-area">
                <div class="previous-operand" id="previous-operand"></div>
                <div class="current-operand" id="current-operand">0</div>
            </div>

            <div class="keypad">
                <button class="btn btn-function" data-action="clear">AC</button>
                <button class="btn btn-function" data-action="sign">+/-</button>
                <button class="btn btn-function" data-action="percent">%</button>
                <button class="btn btn-operator" data-action="divide">÷</button>

                <button class="btn btn-number" data-number="7">7</button>
                <button class="btn btn-number" data-number="8">8</button>
                <button class="btn btn-number" data-number="9">9</button>
                <button class="btn btn-operator" data-action="multiply">×</button>

                <button class="btn btn-number" data-number="4">4</button>
                <button class="btn btn-number" data-number="5">5</button>
                <button class="btn btn-number" data-number="6">6</button>
                <button class="btn btn-operator" data-action="subtract">−</button>

                <button class="btn btn-number" data-number="1">1</button>
                <button class="btn btn-number" data-number="2">2</button>
                <button class="btn btn-number" data-number="3">3</button>
                <button class="btn btn-operator" data-action="add">+</button>

                <button class="btn btn-number btn-zero" data-number="0">0</button>
                <button class="btn btn-number" data-number=".">.</button>
                <button class="btn btn-equal" data-action="calculate">=</button>
            </div>
        </div>
        <div class="brand" id="brand-link">CalcTech</div>
    </main>

    <!-- History Panel -->
    <div class="sidebar" id="history-sidebar">
        <div class="sidebar-header">
            <h3>History</h3>
            <button class="close-sidebar">&times;</button>
        </div>
        <div class="history-list" id="history-list">
            <!-- Items injected via JS -->
        </div>
        <button class="btn-reset" id="clear-history">Clear History</button>
    </div>

    <!-- Modals -->
    <div class="modal-overlay" id="modal-overlay"></div>

    <!-- Theme Editor Modal -->
    <div class="modal large-modal" id="theme-modal">
        <div class="modal-header">
            <h2>Ultimate Theme Editor</h2>
            <button class="close-modal">&times;</button>
        </div>
        <div class="modal-content scrollable-content">
            <div class="section-title">Presets</div>
            <div class="preset-grid">
                <button class="preset-btn" data-theme="modern">Modern</button>
                <button class="preset-btn" data-theme="nooo">Not Working</button>
                <button class="preset-btn" data-theme="dark">Dark</button>
                <button class="preset-btn" data-theme="amoled">Amoled</button>
                <button class="preset-btn" data-theme="retro">Retro</button>
                <button class="preset-btn" data-theme="classic">Classic</button>
                <button class="preset-btn" data-theme="volcano">Volcano</button>
                <button class="preset-btn" data-theme="forest">Forest</button>
                <button class="preset-btn" data-theme="desert">Desert</button>
            </div>

            <div class="section-title">Shape & Elevation</div>
            <div class="control-group" title="Change the shape of the calculator buttons">
                <label>Button Shape</label>
                <select id="btn-shape-select">
                    <option value="50%">Circle</option>
                    <option value="8px">Rounded</option>
                    <option value="0px">Square</option>
                    <option value="20px">Squircle</option>
                </select>
            </div>
            <div class="control-group" title="Adjust the depth and shadow intensity">
                <label>Elevation</label>
                <select id="elevation-select">
                    <option value="flat">Flat</option>
                    <option value="2d">2D Soft</option>
                    <option value="3d">3D Deep</option>
                </select>
            </div>
            <div class="control-group" title="Adjust the corner rounding of the main container">
                <label>Body Radius</label>
                <input type="range" id="border-radius" min="0" max="50" value="40">
            </div>

            <div class="section-title">Typography & Background</div>
            <div class="control-group">
                <label>Font</label>
                <select id="font-select">
                    <option value="Inter">Inter (Default)</option>
                    <option value="Roboto">Roboto</option>
                    <option value="monospace">Monospace</option>
                    <option value="'Courier New'">Retro</option>
                </select>
            </div>
            <div class="control-group" title="Upload a custom background image">
                <label>Custom BG Image</label>
                <input type="file" id="bg-image-upload" accept="image/*">
            </div>

            <div class="section-title">Manual Colors</div>
            <div class="control-group">
                <label>Background 1</label>
                <input type="color" id="blob-color-1" value="#4f46e5">
            </div>
            <div class="control-group">
                <label>Background 2</label>
                <input type="color" id="blob-color-2" value="#ec4899">
            </div>
            <div class="control-group">
                <label>Screen Text</label>
                <input type="color" id="text-primary" value="#ffffff">
            </div>
            <div class="control-group">
                <label>Secondary Text</label>
                <input type="color" id="text-secondary" value="#ffffff">
            </div>
            <div class="control-group">
                <label>Operator Color</label>
                <input type="color" id="operator-bg" value="#ff9f0a">
            </div>
            <div class="control-group">
                <label>Blur Intensity</label>
                <input type="range" id="blur-intensity" min="0" max="50" value="20">
            </div>
            <button class="btn-reset" id="reset-theme">Reset to Default</button>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal" id="settings-modal">
        <div class="modal-header">
            <h2>Settings</h2>
            <button class="close-modal">&times;</button>
        </div>
        <div class="modal-content">
            <div class="control-group" title="Toggle sound effects on click">
                <label>Click Sound</label>
                <label class="switch">
                    <input type="checkbox" id="sound-toggle">
                    <span class="slider round"></span>
                </label>
            </div>
            <div class="control-group" title="Toggle haptic feedback on devices that support it">
                <label>Vibration</label>
                <label class="switch">
                    <input type="checkbox" id="vibration-toggle">
                    <span class="slider round"></span>
                </label>
            </div>
            <div class="control-group" title="Decimal places for result (0-10)">
                <label>Decimal Precision</label>
                <input type="number" id="precision-input" min="0" max="10" value="8">
            </div>
            <div class="control-group" title="Choose how numbers are formatted">
                <label>Number Format</label>
                <select id="number-format">
                    <option value="us">US (1,234.56)</option>
                    <option value="eu">EU (1.234,56)</option>
                    <option value="in">Indian (1,23,456)</option>
                </select>
            </div>
            <div class="control-group" title="Keeps the screen awake while using the app">
                <label>Screen Awake</label>
                <label class="switch">
                    <input type="checkbox" id="wakelock-toggle">
                    <span class="slider round"></span>
                </label>
            </div>
            <button class="btn-reset" id="clear-all-data">Factory Reset</button>
        </div>
    </div>

    <!-- About Modal -->
    <div class="modal" id="about-modal">
        <div class="modal-header">
            <h2>About</h2>
            <button class="close-modal">&times;</button>
        </div>
        <div class="modal-content text-center">
            <p>Built by <strong>Ashish Apps</strong></p>
            <a href="https://ashish-apps.blogspot.com/" target="_blank" class="shiny-link">Visit Website</a>

            <div class="changelog-section"
                style="margin-top: 20px; text-align: left; background: rgba(255,255,255,0.05); padding: 15px; border-radius: 10px;">
                <h3 style="font-size: 0.9rem; margin-bottom: 10px; color: var(--blob-color-1);">Changelog v1.0</h3>
                <ul style="font-size: 0.8rem; padding-left: 20px; color: var(--text-secondary);">
                    <li>Initial Release</li>
                    <li>Glassmorphism UI</li>
                    <li>Theme Editor & Sound</li>
                </ul>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>